You are a senior Python backend engineer. Build a modular, scalable, and production-ready backend using FastAPI, SQLAlchemy, PostgreSQL, and JWT tokens for a city-based employee travel management system.

ğŸ›  Tech Stack:
FastAPI (API framework)

SQLAlchemy (ORM)

PostgreSQL (Database)

Pydantic (Schema validation)

JWT (Role-based Auth)

.env-based config for flexible DB integration

ğŸ­ System Roles:
Admin

Manages users (employees and drivers)

Views and assigns trips

Access to analytics

Views all notifications

Driver

Registers with: name, phone number, DL number, vehicle plate number

Views assigned trips

Starts/completes trips

Updates location (optional future enhancement)

Receives notifications (via notification API)

Employee

Registers with: name, employee_id, phone number, home location, commute schedule

Views upcoming trips

Requests leave/rescheduling

Tracks current trip

Receives notifications

ğŸ“¦ Required Folder Structure:
graphql
Copy
Edit
travel_management_backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                   # Contains API endpoints for each entity
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ admin.py
â”‚   â”‚   â”œâ”€â”€ driver.py
â”‚   â”‚   â”œâ”€â”€ employee.py
â”‚   â”‚   â”œâ”€â”€ trip.py
â”‚   â”‚   â””â”€â”€ notification.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                # SQLAlchemy models for DB tables
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ driver.py
â”‚   â”‚   â”œâ”€â”€ employee.py
â”‚   â”‚   â”œâ”€â”€ trip.py
â”‚   â”‚   â”œâ”€â”€ vehicle.py
â”‚   â”‚   â””â”€â”€ notification.py
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/               # Pydantic schemas for validation
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ driver.py
â”‚   â”‚   â”œâ”€â”€ employee.py
â”‚   â”‚   â”œâ”€â”€ trip.py
â”‚   â”‚   â”œâ”€â”€ vehicle.py
â”‚   â”‚   â””â”€â”€ notification.py
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/               # Route inclusion for app main
â”‚   â”‚   â”œâ”€â”€ auth_router.py
â”‚   â”‚   â”œâ”€â”€ admin_router.py
â”‚   â”‚   â”œâ”€â”€ driver_router.py
â”‚   â”‚   â”œâ”€â”€ employee_router.py
â”‚   â”‚   â”œâ”€â”€ trip_router.py
â”‚   â”‚   â””â”€â”€ notification_router.py
â”‚   â”‚
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py          # Loads env and config
â”‚   â”‚   â””â”€â”€ security.py        # JWT utilities
â”‚   â”‚
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ base.py            # SQLAlchemy Base class
â”‚   â”‚   â”œâ”€â”€ session.py         # Engine, SessionLocal
â”‚   â”‚   â””â”€â”€ init_db.py         # Inserts sample/demo data
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ notification_utils.py
â”‚   â”‚
â”‚   â””â”€â”€ main.py                # FastAPI app entry point
â”‚
â”œâ”€â”€ .env                       # Contains DB credentials
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
ğŸ” Auth APIs
/register/{role} â€” Register as Admin, Driver, or Employee

/login â€” JWT-based login

/me â€” Get current user info

ğŸ‘©â€ğŸ’¼ Admin APIs
List all drivers/employees

Assign trips

View analytics (total trips, completed, delay %, etc.)

Approve/reject user requests (optional enhancement)

ğŸš– Driver APIs
Register/update driver profile

View assigned trips

Start/complete trip

Upload documents

View today's trips

Update location

View notifications

ğŸ§‘â€ğŸ’¼ Employee APIs
Register/update profile

View upcoming/past trips

Request leave/reschedule

Track ongoing trip

View notifications

ğŸš— Trip APIs
Create trip (admin)

Assign/reassign driver (admin)

Reschedule trip (admin/employee)

Get trip by ID

List today's trips for driver or employee

Trip history

ğŸ”” Notification APIs
Send notification (admin/internal)

View notification list by user

Notification model: title, message, recipient_id, seen, timestamp

ğŸ”§ Integration Requirements:
âœ… Configure PostgreSQL using .env
âœ… Ensure proper DB connection using session.py
âœ… Use Alembic or SQLAlchemy Base for migrations
âœ… Include init_db.py with demo data:

Create 1 Admin, 2 Drivers, 3 Employees

Add 2 vehicles, 3 sample trips, and 3-5 notifications

ğŸ”¥ Ensure clean modular separation, with each file serving a single responsibility. Focus purely on backend.
Include inline comments for clarity.
Prioritize scalability and clean architecture.